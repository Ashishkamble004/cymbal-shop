<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tata Neu - More for you every time you Neu</title>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Plus Jakarta Sans', -apple-system, BlinkMacSystemFont, sans-serif;
            background: #fafafa;
            color: #0f0f0f;
            line-height: 1.6;
            -webkit-font-smoothing: antialiased;
        }
        
        /* Tata Neu Modern Color Palette */
        :root {
            --primary: #7c3aed;
            --primary-dark: #5b21b6;
            --primary-light: #a78bfa;
            --accent: #06b6d4;
            --accent-pink: #ec4899;
            --accent-green: #10b981;
            --accent-orange: #f97316;
            --bg-light: #f8fafc;
            --bg-card: #ffffff;
            --text-dark: #0f172a;
            --text-gray: #64748b;
            --text-light: #94a3b8;
            --border-light: #e2e8f0;
            --glass: rgba(255, 255, 255, 0.8);
            --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05);
            --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
            --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
            --shadow-xl: 0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1);
        }
        
        /* Top Banner */
        .top-banner {
            background: linear-gradient(135deg, var(--primary) 0%, var(--accent-pink) 50%, var(--accent) 100%);
            color: white;
            padding: 0.6rem 1rem;
            text-align: center;
            font-size: 0.85rem;
            font-weight: 500;
            letter-spacing: 0.01em;
        }
        
        .top-banner a {
            color: #fef08a;
            text-decoration: none;
            font-weight: 700;
            margin-left: 0.5rem;
            transition: opacity 0.2s;
        }
        
        .top-banner a:hover {
            opacity: 0.85;
        }
        
        /* Navbar */
        .navbar {
            background: var(--glass);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            padding: 0;
            box-shadow: var(--shadow-sm);
            border-bottom: 1px solid var(--border-light);
            position: sticky;
            top: 0;
            z-index: 1000;
        }
        
        .navbar-content {
            max-width: 1400px;
            margin: 0 auto;
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0.75rem 2rem;
        }
        
        .logo-section {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .logo {
            display: flex;
            align-items: center;
            gap: 0.25rem;
            text-decoration: none;
        }
        
        .logo-text {
            font-size: 1.75rem;
            font-weight: 700;
            color: #1a1a1a;
            letter-spacing: -0.5px;
            text-transform: lowercase;
        }
        
        .logo-neu {
            color: #5f259f;
            font-weight: 800;
        }
        
        .logo-img {
            height: 40px;
            width: auto;
            object-fit: contain;
        }
        
        .logo-icon {
            width: 32px;
            height: 32px;
            background: linear-gradient(135deg, var(--primary), var(--accent));
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 0.5rem;
        }
        
        .logo-icon svg {
            width: 20px;
            height: 20px;
            color: white;
        }
        
        .nav-categories {
            display: flex;
            gap: 0.25rem;
            align-items: center;
            background: var(--bg-light);
            border-radius: 16px;
            padding: 0.25rem;
            border: 1px solid var(--border-light);
        }
        
        .nav-category {
            color: var(--text-gray);
            text-decoration: none;
            font-weight: 600;
            font-size: 0.875rem;
            padding: 0.5rem 1.25rem;
            border-radius: 12px;
            transition: all 0.2s ease;
        }
        
        .nav-category:hover {
            color: var(--text-dark);
            background: white;
        }
        
        .nav-category.active {
            background: var(--primary);
            color: white;
            box-shadow: var(--shadow-md);
        }
        
        .nav-right {
            display: flex;
            align-items: center;
            gap: 1.5rem;
        }
        
        .search-box {
            display: flex;
            align-items: center;
            background: var(--bg-light);
            border: 1px solid var(--border-light);
            border-radius: 14px;
            padding: 0.6rem 1rem;
            gap: 0.75rem;
            min-width: 240px;
            transition: all 0.2s ease;
        }
        
        .search-box:focus-within {
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(124, 58, 237, 0.1);
        }
        
        .search-box input {
            border: none;
            background: transparent;
            outline: none;
            font-size: 0.875rem;
            width: 100%;
            color: var(--text-dark);
        }
        
        .search-box input::placeholder {
            color: var(--text-light);
        }
        
        .search-box svg {
            color: var(--text-light);
            width: 18px;
            height: 18px;
            flex-shrink: 0;
        }
        
        .nav-icon-btn {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            background: none;
            border: none;
            cursor: pointer;
            color: var(--text-dark);
            font-size: 0.85rem;
            font-weight: 500;
        }
        
        .nav-icon-btn svg {
            width: 22px;
            height: 22px;
        }
        
        .login-btn {
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            color: white;
            padding: 0.6rem 1.5rem;
            border-radius: 12px;
            text-decoration: none;
            font-weight: 600;
            font-size: 0.875rem;
            transition: all 0.2s ease;
            box-shadow: var(--shadow-md);
        }
        
        .login-btn:hover {
            transform: translateY(-1px);
            box-shadow: var(--shadow-lg);
        }
        
        /* Hero Banner Section */
        .hero-banner,
        .mid-banner {
            width: 100%;
            padding: 0;
            margin: 0;
            display: flex;
            justify-content: center;
            background: #f8f9fa;
        }
        
        .banner-image {
            max-width: 100%;
            height: auto;
            display: block;
        }
        
        /* Section Styles */
        .section {
            padding: 4rem 2rem;
            max-width: 1400px;
            margin: 0 auto;
        }
        
        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
        }
        
        .section-title {
            font-size: 1.75rem;
            font-weight: 700;
            color: var(--text-dark);
        }
        
        .section-subtitle {
            color: var(--text-gray);
            font-size: 1rem;
        }
        
        .view-all {
            color: var(--neu-purple);
            text-decoration: none;
            font-weight: 600;
            font-size: 0.9rem;
            display: flex;
            align-items: center;
            gap: 0.25rem;
        }
        
        /* Product Cards Grid */
        .products-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 1.5rem;
        }
        
        .product-card {
            background: var(--bg-card);
            border-radius: 24px;
            overflow: hidden;
            box-shadow: var(--shadow-sm);
            transition: all 0.3s ease;
            border: 1px solid var(--border-light);
        }
        
        .product-card:hover {
            transform: translateY(-8px);
            box-shadow: var(--shadow-xl);
            border-color: transparent;
        }
        
        .product-image {
            height: 200px;
            background: linear-gradient(135deg, var(--bg-light), #e2e8f0);
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
        }
        
        .product-badge {
            position: absolute;
            top: 1rem;
            left: 1rem;
            background: linear-gradient(135deg, var(--accent-pink), var(--accent-orange));
            color: white;
            padding: 0.35rem 0.85rem;
            border-radius: 10px;
            font-size: 0.7rem;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        
        .product-image svg {
            width: 64px;
            height: 64px;
            color: var(--primary);
            opacity: 0.4;
        }
        
        .product-content {
            padding: 1.5rem;
        }
        
        .product-brand {
            font-size: 0.75rem;
            color: var(--primary);
            margin-bottom: 0.35rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        
        .product-title {
            font-size: 0.95rem;
            font-weight: 600;
            color: var(--text-dark);
            margin-bottom: 0.75rem;
            line-height: 1.4;
        }
        
        .product-price {
            display: flex;
            align-items: baseline;
            gap: 0.5rem;
            flex-wrap: wrap;
        }
        
        .price-current {
            font-size: 1.35rem;
            font-weight: 800;
            color: var(--text-dark);
        }
        
        .price-original {
            font-size: 0.85rem;
            color: var(--text-light);
            text-decoration: line-through;
        }
        
        .price-discount {
            font-size: 0.75rem;
            color: var(--accent-green);
            font-weight: 700;
            background: rgba(16, 185, 129, 0.1);
            padding: 0.2rem 0.5rem;
            border-radius: 6px;
        }
        
        .rewards {
            display: flex;
            align-items: center;
            gap: 0.35rem;
            margin-top: 0.75rem;
            color: var(--primary);
            font-size: 0.8rem;
            font-weight: 600;
            background: linear-gradient(135deg, rgba(124, 58, 237, 0.1), rgba(6, 182, 212, 0.1));
            padding: 0.4rem 0.75rem;
            border-radius: 8px;
            width: fit-content;
        }
        
        /* Services Section */
        .services-section {
            background: linear-gradient(180deg, var(--bg-light) 0%, #f1f5f9 100%);
            padding: 5rem 2rem;
        }
        
        .services-container {
            max-width: 1400px;
            margin: 0 auto;
        }
        
        .services-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1.5rem;
        }
        
        .service-card {
            background: var(--bg-card);
            border-radius: 24px;
            padding: 2rem;
            text-align: center;
            transition: all 0.3s ease;
            border: 1px solid var(--border-light);
            text-decoration: none;
            color: var(--text-dark);
            position: relative;
            overflow: hidden;
        }
        
        .service-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, var(--primary), var(--accent));
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        
        .service-card:hover {
            transform: translateY(-8px);
            box-shadow: var(--shadow-xl);
            border-color: transparent;
        }
        
        .service-card:hover::before {
            opacity: 1;
        }
        
        .service-icon {
            width: 64px;
            height: 64px;
            background: linear-gradient(135deg, var(--primary), var(--accent));
            border-radius: 18px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 1.25rem;
            box-shadow: 0 8px 20px rgba(124, 58, 237, 0.25);
        }
        
        .service-icon svg {
            width: 30px;
            height: 30px;
            color: white;
        }
        
        .service-card h3 {
            font-size: 1rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
            color: var(--text-dark);
        }
        
        .service-card p {
            font-size: 0.85rem;
            color: var(--text-gray);
            line-height: 1.5;
        }
        
        /* Brands Section */
        .brands-section {
            padding: 5rem 2rem;
            background: var(--bg-card);
        }
        
        .brands-container {
            max-width: 1400px;
            margin: 0 auto;
        }
        
        .brands-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(160px, 1fr));
            gap: 1.25rem;
        }
        
        .brand-card {
            background: var(--bg-light);
            border-radius: 20px;
            padding: 2rem 1.5rem;
            text-align: center;
            transition: all 0.3s ease;
            border: 1px solid transparent;
            cursor: pointer;
        }
        
        .brand-card:hover {
            transform: translateY(-6px);
            box-shadow: var(--shadow-lg);
            background: var(--bg-card);
            border-color: var(--border-light);
        }
        
        .brand-logo {
            font-size: 1.25rem;
            font-weight: 800;
            background: linear-gradient(135deg, var(--primary), var(--accent));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 0.5rem;
        }
        
        .brand-name {
            font-size: 0.8rem;
            color: var(--text-gray);
            font-weight: 500;
        }
        
        /* Rewards Banner */
        .rewards-banner {
            background: linear-gradient(135deg, #1e1b4b 0%, var(--primary-dark) 50%, var(--primary) 100%);
            padding: 4rem 2rem;
            margin: 0;
            position: relative;
            overflow: hidden;
        }
        
        .rewards-banner::before {
            content: '';
            position: absolute;
            top: 0;
            right: 0;
            width: 50%;
            height: 100%;
            background: radial-gradient(ellipse at center right, rgba(6, 182, 212, 0.3) 0%, transparent 70%);
        }
        
        .rewards-content {
            max-width: 1400px;
            margin: 0 auto;
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 2rem;
            position: relative;
            z-index: 1;
        }
        
        .rewards-text h2 {
            font-size: 2.25rem;
            font-weight: 800;
            color: white;
            margin-bottom: 0.75rem;
            letter-spacing: -0.02em;
        }
        
        .rewards-text p {
            font-size: 1.1rem;
            color: rgba(255,255,255,0.8);
            max-width: 500px;
        }
        
        .rewards-cta {
            background: white;
            color: var(--primary-dark);
            padding: 1rem 2rem;
            border-radius: 14px;
            text-decoration: none;
            font-weight: 700;
            transition: all 0.25s ease;
            box-shadow: var(--shadow-lg);
            white-space: nowrap;
        }
        
        .rewards-cta:hover {
            transform: translateY(-2px);
            box-shadow: 0 20px 40px rgba(0,0,0,0.3);
        }
        
        /* Footer */
        .footer {
            background: linear-gradient(180deg, #0f172a 0%, #020617 100%);
            color: white;
            padding: 5rem 2rem 2rem;
        }
        
        .footer-container {
            max-width: 1400px;
            margin: 0 auto;
        }
        
        .footer-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 3rem;
            margin-bottom: 3rem;
        }
        
        .footer-section h4 {
            font-size: 1rem;
            font-weight: 600;
            margin-bottom: 1.5rem;
            color: white;
        }
        
        .footer-section ul {
            list-style: none;
        }
        
        .footer-section li {
            margin-bottom: 0.75rem;
        }
        
        .footer-section a {
            color: #999;
            text-decoration: none;
            font-size: 0.9rem;
            transition: color 0.3s ease;
        }
        
        .footer-section a:hover {
            color: var(--primary-light);
        }
        
        .footer-bottom {
            border-top: 1px solid #333;
            padding-top: 2rem;
            display: flex;
            flex-wrap: wrap;
            justify-content: space-between;
            align-items: center;
            gap: 1rem;
        }
        
        .footer-copyright {
            color: #666;
            font-size: 0.85rem;
        }
        
        .footer-social {
            display: flex;
            gap: 1rem;
        }
        
        .footer-social a {
            width: 40px;
            height: 40px;
            background: #333;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #999;
            transition: all 0.3s ease;
        }
        
        .footer-social a:hover {
            background: var(--primary);
            color: white;
        }
        
        .footer-social svg {
            width: 20px;
            height: 20px;
        }
        
        .app-download {
            display: flex;
            gap: 1rem;
        }
        
        .app-badge {
            background: #333;
            padding: 0.75rem 1.25rem;
            border-radius: 8px;
            color: white;
            text-decoration: none;
            font-size: 0.85rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            transition: background 0.3s ease;
        }
        
        .app-badge:hover {
            background: var(--primary);
        }
        
        @media (max-width: 1024px) {
            .hero-content {
                grid-template-columns: 1fr;
                text-align: center;
            }
            
            .hero-text h1 {
                font-size: 2.5rem;
            }
            
            .hero-cta {
                justify-content: center;
            }
            
            .hero-cards {
                max-width: 500px;
                margin: 0 auto;
            }
        }
        
        @media (max-width: 768px) {
            .navbar-content {
                flex-wrap: wrap;
                gap: 1rem;
            }
            
            .nav-categories {
                order: 3;
                width: 100%;
                justify-content: center;
            }
            
            .search-box {
                display: none;
            }
            
            .hero-text h1 {
                font-size: 2rem;
            }
            
            .neucoins-content {
                flex-direction: column;
                text-align: center;
            }
        }

        /* Chat window styles - Modern Purple Theme */
        .chatbox {
            position: fixed;
            bottom: 1.5rem;
            right: 1.5rem;
            width: 400px;
            height: 640px;
            background: linear-gradient(180deg, #1e1b4b 0%, var(--primary-dark) 50%, #312e81 100%);
            border-radius: 28px;
            box-shadow: 0 25px 50px -12px rgba(0,0,0,0.4), 0 0 0 1px rgba(255,255,255,0.1);
            display: flex;
            flex-direction: column;
            color: white;
            overflow: hidden;
        }
        .chatbox-header {
            padding: 1.5rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: rgba(0,0,0,0.2);
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
        }
        .chatbox-header-title {
            display: flex;
            align-items: center;
            font-weight: 700;
            font-size: 1.05rem;
            letter-spacing: -0.01em;
        }
        .chatbox-body {
            flex-grow: 1;
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }
        
        .chat-messages-container {
            flex-grow: 1;
            display: flex;
            flex-direction: column;
            justify-content: flex-end;
            padding: 1.25rem;
            overflow-y: auto;
        }
        .mic-button {
            width: 88px;
            height: 88px;
            border-radius: 50%;
            background: linear-gradient(135deg, rgba(255,255,255,0.25), rgba(255,255,255,0.08));
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            border: 2px solid rgba(255,255,255,0.3);
            transition: all 0.3s ease;
        }
        .mic-button:hover {
            background: linear-gradient(135deg, rgba(255,255,255,0.4), rgba(255,255,255,0.2));
            transform: scale(1.05);
        }
        .mic-active {
            background: linear-gradient(135deg, rgba(236,72,153,0.6), rgba(236,72,153,0.3));
            border-color: var(--accent-pink);
            animation: pulse-mic 1.5s infinite;
        }
        @keyframes pulse-mic {
            0%, 100% { box-shadow: 0 0 0 0 rgba(236,72,153,0.4); }
            50% { box-shadow: 0 0 0 15px rgba(236,72,153,0); }
        }
        .chatbox-footer {
            padding: 1.25rem;
            display: flex;
            justify-content: space-around;
            align-items: center;
            background: rgba(0,0,0,0.1);
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }
        .chat-control-btn {
            background: rgba(255, 255, 255, 0.15);
            border-radius: 50%;
            width: 48px;
            height: 48px;
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            transition: all 0.3s ease;
            border: none;
        }
        .chat-control-btn:hover {
            background: rgba(255, 255, 255, 0.25);
            transform: scale(1.1);
        }
        .chat-control-btn.end-call {
            background: linear-gradient(135deg, #DC2626, #EF4444);
        }
        .chat-control-btn.end-call:hover {
            background: linear-gradient(135deg, #EF4444, #F87171);
        }
        .chat-message {
            max-width: 80%;
            margin-bottom: 10px;
            padding: 12px 16px;
            border-radius: 18px;
            word-wrap: break-word;
        }
        .user-message {
            align-self: flex-end;
            background: white;
            color: var(--primary);
            margin-left: auto;
            border-bottom-right-radius: 4px;
        }
        .assistant-message {
            align-self: flex-start;
            background: rgba(255, 255, 255, 0.15);
            margin-right: auto;
            border-bottom-left-radius: 4px;
        }
        .audio-wave {
            display: flex;
            align-items: center;
            justify-content: center;
            height: 20px;
            margin: 10px 0;
        }
        .audio-wave span {
            display: inline-block;
            width: 4px;
            height: 100%;
            margin: 0 3px;
            background: linear-gradient(180deg, var(--accent), var(--accent-pink));
            border-radius: 4px;
            animation: wave 1.2s infinite ease-in-out;
        }
        .audio-wave span:nth-child(2) { animation-delay: 0.1s; }
        .audio-wave span:nth-child(3) { animation-delay: 0.2s; }
        .audio-wave span:nth-child(4) { animation-delay: 0.3s; }
        .audio-wave span:nth-child(5) { animation-delay: 0.4s; }
        @keyframes wave {
            0%, 40%, 100% { transform: scaleY(0.4); }
            20% { transform: scaleY(1); }
        }
        
        /* Transcription styles */
        .transcription-message {
            max-width: 85%;
            margin-bottom: 12px;
            padding: 12px 16px;
            border-radius: 18px;
            word-wrap: break-word;
            position: relative;
            animation: fadeIn 0.3s ease-out;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .user-transcription {
            align-self: flex-end;
            background: linear-gradient(135deg, #ffffff 0%, #f5f3ff 100%);
            color: var(--primary);
            margin-left: auto;
            border-bottom-right-radius: 4px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        
        .assistant-transcription {
            align-self: flex-start;
            background: linear-gradient(135deg, rgba(255,255,255,0.2) 0%, rgba(255,255,255,0.1) 100%);
            color: #fff;
            margin-right: auto;
            border-bottom-left-radius: 4px;
            border: 1px solid rgba(255,255,255,0.15);
        }
        
        .transcription-partial {
            opacity: 0.75;
            font-style: italic;
        }
        
        .transcription-final {
            opacity: 1;
            font-style: normal;
        }
        
        .transcription-label {
            font-size: 0.7rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-bottom: 4px;
            opacity: 0.7;
        }
        
        .user-transcription .transcription-label {
            color: var(--primary);
        }
        
        .assistant-transcription .transcription-label {
            color: rgba(255,255,255,0.8);
        }
        
        .transcription-text {
            font-size: 0.95rem;
            line-height: 1.4;
        }
        
        /* Tool call indicator */
        .tool-call-indicator {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 8px 12px;
            background: rgba(6, 182, 212, 0.2);
            border-radius: 12px;
            margin: 8px auto;
            max-width: 90%;
            font-size: 0.85rem;
            color: var(--accent);
            border: 1px solid rgba(6, 182, 212, 0.3);
        }
        
        .tool-call-indicator svg {
            width: 16px;
            height: 16px;
            animation: spin 1s linear infinite;
        }

        /* Video preview styles */
        .video-preview-container {
            width: 100%;
            height: 180px;
            min-height: 180px;
            max-height: 180px;
            background: rgba(0,0,0,0.9);
            border-radius: 12px;
            overflow: hidden;
            margin: 12px;
            margin-bottom: 0;
            display: none;
            z-index: 10;
            flex-shrink: 0;
            position: relative;
        }
        
        .video-preview-container.active {
            display: block;
        }
        
        .video-preview {
            width: 100%;
            height: 180px;
            min-height: 180px;
            object-fit: cover;
            transform: scaleX(-1); /* Mirror the video */
            border-radius: 12px;
        }
        
        .video-preview-badge {
            position: absolute;
            top: 8px;
            left: 8px;
            background: rgba(236, 72, 153, 0.9);
            color: white;
            padding: 4px 10px;
            border-radius: 20px;
            font-size: 0.7rem;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 4px;
            animation: pulse-recording 2s infinite;
        }
        
        .video-preview-badge::before {
            content: '';
            width: 6px;
            height: 6px;
            background: white;
            border-radius: 50%;
        }
        
        .flip-camera-btn {
            position: absolute;
            top: 8px;
            right: 8px;
            background: rgba(255, 255, 255, 0.2);
            color: white;
            border: none;
            border-radius: 50%;
            width: 36px;
            height: 36px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.2s ease;
            backdrop-filter: blur(4px);
        }
        
        .flip-camera-btn:hover {
            background: rgba(255, 255, 255, 0.4);
            transform: scale(1.1);
        }
        
        .flip-camera-btn:active {
            transform: scale(0.95);
        }
        
        @keyframes pulse-recording {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.7; }
        }
        
        .camera-active {
            background: linear-gradient(135deg, rgba(236,72,153,0.6), rgba(236,72,153,0.3)) !important;
            border-color: var(--accent-pink) !important;
        }
        
        @keyframes spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
        
        /* Status indicator */
        .status-indicator {
            display: flex;
            align-items: center;
            gap: 6px;
            padding: 4px 12px;
            font-size: 0.75rem;
            border-radius: 20px;
            background: rgba(0,0,0,0.2);
        }
        
        .status-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: #4caf50;
            animation: pulse 2s infinite;
        }
        
        .status-dot.connecting {
            background: var(--accent);
        }
        
        .status-dot.error {
            background: var(--accent-pink);
            animation: none;
        }
        
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }
        
        /* Open Chat Button */
        #openChatButton {
            background: linear-gradient(135deg, var(--primary), var(--primary-light)) !important;
            box-shadow: 0 4px 20px rgba(124,58,237,0.4) !important;
        }
        
        #openChatButton:hover {
            transform: scale(1.1);
            box-shadow: 0 6px 25px rgba(124,58,237,0.5) !important;
        }
    </style>
</head>
<body>
    <!-- Top Promotional Banner -->
    <div class="top-banner">
        ðŸŽ‰ Earn up to 10% NeuCoins on every purchase! <a href="#">Download the app now â†’</a>
    </div>

    <!-- Navigation -->
    <nav class="navbar">
        <div class="navbar-content">
            <div class="logo-section">
                <a href="#" class="logo">
                    <img src="Tata_Neu_Logo.svg.png" alt="Tata Neu" class="logo-img">
                </a>
            </div>
            
            <div class="nav-categories">
                <a href="#shop" class="nav-category active">Shop</a>
                <a href="#finance" class="nav-category">Finance</a>
                <a href="#travel" class="nav-category">Travel</a>
            </div>
            
            <div class="nav-right">
                <div class="search-box">
                    <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/>
                    </svg>
                    <input type="text" placeholder="Search for products...">
                </div>
                <button class="nav-icon-btn">
                    <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"/>
                    </svg>
                </button>
                <a href="#" class="login-btn">Login / Sign Up</a>
            </div>
        </div>
    </nav>

    <!-- Hero Banner Section -->
    <section class="hero-banner" id="home">
        <img src="top.png" alt="Tata Neu Top Banner" class="banner-image">
    </section>

    <!-- Mid Banner Section -->
    <section class="mid-banner" id="shop">
        <img src="mid.png" alt="Tata Neu Mid Banner" class="banner-image">
    </section>

    <!-- Products Section -->
    <section class="section">
        <div class="section-header">
            <div>
                <h2 class="section-title">Exclusive Deals for You</h2>
                <p class="section-subtitle">Grab these offers before they're gone!</p>
            </div>
            <a href="#" class="view-all">View All â†’</a>
        </div>
        <div class="products-grid">
            <div class="product-card">
                <div class="product-image">
                    <span class="product-badge">50% OFF</span>
                    <svg fill="currentColor" viewBox="0 0 24 24">
                        <path d="M17 1H7c-1.1 0-2 .9-2 2v18c0 1.1.9 2 2 2h10c1.1 0 2-.9 2-2V3c0-1.1-.9-2-2-2zm0 18H7V5h10v14z"/>
                    </svg>
                </div>
                <div class="product-content">
                    <div class="product-brand">Croma</div>
                    <div class="product-title">iPhone 15 Pro Max 256GB</div>
                    <div class="product-price">
                        <span class="price-current">â‚¹1,34,999</span>
                        <span class="price-original">â‚¹1,59,999</span>
                        <span class="price-discount">15% off</span>
                    </div>
                    <div class="rewards">âœ¨ Earn 1350 NeuCoins</div>
                </div>
            </div>
            <div class="product-card">
                <div class="product-image">
                    <span class="product-badge">DEAL</span>
                    <svg fill="currentColor" viewBox="0 0 24 24">
                        <path d="M21 3H3c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H3V5h18v14z"/>
                    </svg>
                </div>
                <div class="product-content">
                    <div class="product-brand">Croma</div>
                    <div class="product-title">Samsung 65" QLED Smart TV</div>
                    <div class="product-price">
                        <span class="price-current">â‚¹89,999</span>
                        <span class="price-original">â‚¹1,19,999</span>
                        <span class="price-discount">25% off</span>
                    </div>
                    <div class="rewards">âœ¨ Earn 900 NeuCoins</div>
                </div>
            </div>
            <div class="product-card">
                <div class="product-image">
                    <span class="product-badge">NEW</span>
                    <svg fill="currentColor" viewBox="0 0 24 24">
                        <path d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"/>
                    </svg>
                </div>
                <div class="product-content">
                    <div class="product-brand">Tanishq</div>
                    <div class="product-title">18KT Gold Diamond Necklace</div>
                    <div class="product-price">
                        <span class="price-current">â‚¹45,999</span>
                        <span class="price-original">â‚¹52,000</span>
                        <span class="price-discount">12% off</span>
                    </div>
                    <div class="rewards">âœ¨ Earn 460 NeuCoins</div>
                </div>
            </div>
            <div class="product-card">
                <div class="product-image">
                    <span class="product-badge">HOT</span>
                    <svg fill="currentColor" viewBox="0 0 24 24">
                        <path d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"/>
                    </svg>
                </div>
                <div class="product-content">
                    <div class="product-brand">Titan</div>
                    <div class="product-title">Titan Edge Ceramic Watch</div>
                    <div class="product-price">
                        <span class="price-current">â‚¹14,995</span>
                        <span class="price-original">â‚¹17,995</span>
                        <span class="price-discount">17% off</span>
                    </div>
                    <div class="rewards">âœ¨ Earn 150 NeuCoins</div>
                </div>
            </div>
        </div>
    </section>

    <!-- Services Section -->
    <section class="services-section" id="finance">
        <div class="services-container">
            <div class="section-header">
                <div>
                    <h2 class="section-title">Financial Services</h2>
                    <p class="section-subtitle">Manage your money smarter with NeuMoney</p>
                </div>
                <a href="#" class="view-all">Explore All â†’</a>
            </div>
            <div class="services-grid">
                <a href="#" class="service-card">
                    <div class="service-icon">
                        <svg fill="currentColor" viewBox="0 0 24 24">
                            <path d="M20 4H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6c0-1.11-.89-2-2-2zm0 14H4v-6h16v6zm0-10H4V6h16v2z"/>
                        </svg>
                    </div>
                    <h3>NeuCard</h3>
                    <p>Earn up to 10% NeuCoins</p>
                </a>
                <a href="#" class="service-card">
                    <div class="service-icon">
                        <svg fill="currentColor" viewBox="0 0 24 24">
                            <path d="M11.8 10.9c-2.27-.59-3-1.2-3-2.15 0-1.09 1.01-1.85 2.7-1.85 1.78 0 2.44.85 2.5 2.1h2.21c-.07-1.72-1.12-3.3-3.21-3.81V3h-3v2.16c-1.94.42-3.5 1.68-3.5 3.61 0 2.31 1.91 3.46 4.7 4.13 2.5.6 3 1.48 3 2.41 0 .69-.49 1.79-2.7 1.79-2.06 0-2.87-.92-2.98-2.1h-2.2c.12 2.19 1.76 3.42 3.68 3.83V21h3v-2.15c1.95-.37 3.5-1.5 3.5-3.55 0-2.84-2.43-3.81-4.7-4.4z"/>
                        </svg>
                    </div>
                    <h3>Personal Loans</h3>
                    <p>Up to â‚¹15 lakhs instantly</p>
                </a>
                <a href="#" class="service-card">
                    <div class="service-icon">
                        <svg fill="currentColor" viewBox="0 0 24 24">
                            <path d="M12 1L3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4z"/>
                        </svg>
                    </div>
                    <h3>Insurance</h3>
                    <p>Health, Life & Motor</p>
                </a>
                <a href="#" class="service-card">
                    <div class="service-icon">
                        <svg fill="currentColor" viewBox="0 0 24 24">
                            <path d="M16 6l2.29 2.29-4.88 4.88-4-4L2 16.59 3.41 18l6-6 4 4 6.3-6.29L22 12V6z"/>
                        </svg>
                    </div>
                    <h3>Investments</h3>
                    <p>FDs, Bonds & Mutual Funds</p>
                </a>
                <a href="#" class="service-card">
                    <div class="service-icon">
                        <svg fill="currentColor" viewBox="0 0 24 24">
                            <path d="M19 14V6c0-1.1-.9-2-2-2H3c-1.1 0-2 .9-2 2v8c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zm-9-1c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm13-6v11c0 1.1-.9 2-2 2H4v-2h17V7h2z"/>
                        </svg>
                    </div>
                    <h3>Bill Payments</h3>
                    <p>Pay & earn NeuCoins</p>
                </a>
                <a href="#" class="service-card">
                    <div class="service-icon">
                        <svg fill="currentColor" viewBox="0 0 24 24">
                            <path d="M12 2L4.5 20.29l.71.71L12 18l6.79 3 .71-.71z"/>
                        </svg>
                    </div>
                    <h3>Credit Score</h3>
                    <p>Free credit report</p>
                </a>
            </div>
        </div>
    </section>

    <!-- NeuCoins Banner -->
    <div class="rewards-banner">
        <div class="rewards-content">
            <div class="rewards-text">
                <h2>âœ¨ NeuCoins = Real Money</h2>
                <p>1 NeuCoin = â‚¹1. Earn on every transaction, redeem across 15+ Tata brands!</p>
            </div>
            <a href="#" class="rewards-cta">Start Earning Now â†’</a>
        </div>
    </div>

    <!-- Brands Section -->
    <section class="brands-section">
        <div class="brands-container">
            <div class="section-header">
                <div>
                    <h2 class="section-title">Brands You'll Love</h2>
                    <p class="section-subtitle">Featured brands on Tata Neu</p>
                </div>
                <a href="#" class="view-all">View All â†’</a>
            </div>
            <div class="brands-grid">
                <div class="brand-card">
                    <div class="brand-logo">Croma</div>
                    <div class="brand-name">Electronics</div>
                </div>
                <div class="brand-card">
                    <div class="brand-logo">BigBasket</div>
                    <div class="brand-name">Groceries</div>
                </div>
                <div class="brand-card">
                    <div class="brand-logo">Westside</div>
                    <div class="brand-name">Fashion</div>
                </div>
                <div class="brand-card">
                    <div class="brand-logo">Tanishq</div>
                    <div class="brand-name">Jewellery</div>
                </div>
                <div class="brand-card">
                    <div class="brand-logo">Titan</div>
                    <div class="brand-name">Watches</div>
                </div>
                <div class="brand-card">
                    <div class="brand-logo">Tata 1mg</div>
                    <div class="brand-name">Healthcare</div>
                </div>
                <div class="brand-card">
                    <div class="brand-logo">Air India</div>
                    <div class="brand-name">Flights</div>
                </div>
                <div class="brand-card">
                    <div class="brand-logo">Taj Hotels</div>
                    <div class="brand-name">Hotels</div>
                </div>
            </div>
        </div>
    </section>

    <!-- Travel Section -->
    <section class="section" id="travel">
        <div class="section-header">
            <div>
                <h2 class="section-title">Plan Your Next Trip</h2>
                <p class="section-subtitle">Book flights, hotels & more with exclusive rewards</p>
            </div>
            <a href="#" class="view-all">Explore Travel â†’</a>
        </div>
        <div class="products-grid">
            <div class="product-card">
                <div class="product-image" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);">
                    <svg fill="white" viewBox="0 0 24 24" style="opacity: 1;">
                        <path d="M21 16v-2l-8-5V3.5c0-.83-.67-1.5-1.5-1.5S10 2.67 10 3.5V9l-8 5v2l8-2.5V19l-2 1.5V22l3.5-1 3.5 1v-1.5L13 19v-5.5l8 2.5z"/>
                    </svg>
                </div>
                <div class="product-content">
                    <div class="product-brand">Air India</div>
                    <div class="product-title">Delhi â†’ Mumbai</div>
                    <div class="product-price">
                        <span class="price-current">â‚¹4,299</span>
                        <span class="price-discount">onwards</span>
                    </div>
                    <div class="rewards">âœ¨ Earn up to 430 NeuCoins</div>
                </div>
            </div>
            <div class="product-card">
                <div class="product-image" style="background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);">
                    <svg fill="white" viewBox="0 0 24 24" style="opacity: 1;">
                        <path d="M7 14c1.66 0 3-1.34 3-3S8.66 8 7 8s-3 1.34-3 3 1.34 3 3 3zm0-4c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm12-3h-1V5c0-.55-.45-1-1-1H3c-.55 0-1 .45-1 1v10c0 .55.45 1 1 1h1v1c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V9c0-1.1-.9-2-2-2zm-9 8H3V5h14v10H10zm11 4H6v-1h13c.55 0 1-.45 1-1V9h1v10z"/>
                    </svg>
                </div>
                <div class="product-content">
                    <div class="product-brand">Taj Hotels</div>
                    <div class="product-title">Taj Palace, Delhi</div>
                    <div class="product-price">
                        <span class="price-current">â‚¹12,500</span>
                        <span class="price-discount">/night</span>
                    </div>
                    <div class="rewards">âœ¨ Earn up to 1250 NeuCoins</div>
                </div>
            </div>
            <div class="product-card">
                <div class="product-image" style="background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);">
                    <svg fill="white" viewBox="0 0 24 24" style="opacity: 1;">
                        <path d="M21 16v-2l-8-5V3.5c0-.83-.67-1.5-1.5-1.5S10 2.67 10 3.5V9l-8 5v2l8-2.5V19l-2 1.5V22l3.5-1 3.5 1v-1.5L13 19v-5.5l8 2.5z"/>
                    </svg>
                </div>
                <div class="product-content">
                    <div class="product-brand">Air India</div>
                    <div class="product-title">Bangalore â†’ Goa</div>
                    <div class="product-price">
                        <span class="price-current">â‚¹3,199</span>
                        <span class="price-discount">onwards</span>
                    </div>
                    <div class="rewards">âœ¨ Earn up to 320 NeuCoins</div>
                </div>
            </div>
            <div class="product-card">
                <div class="product-image" style="background: linear-gradient(135deg, #fa709a 0%, #fee140 100%);">
                    <svg fill="white" viewBox="0 0 24 24" style="opacity: 1;">
                        <path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"/>
                    </svg>
                </div>
                <div class="product-content">
                    <div class="product-brand">Forex</div>
                    <div class="product-title">Forex Card</div>
                    <div class="product-price">
                        <span class="price-current">Best Rates</span>
                        <span class="price-discount">Zero Markup</span>
                    </div>
                    <div class="rewards">âœ¨ Earn NeuCoins on loading</div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer-container">
            <div class="footer-grid">
                <div class="footer-section">
                    <h4>Categories</h4>
                    <ul>
                        <li><a href="#">Hotels</a></li>
                        <li><a href="#">Flights</a></li>
                        <li><a href="#">Mobiles</a></li>
                        <li><a href="#">Electronics</a></li>
                        <li><a href="#">Fashion</a></li>
                        <li><a href="#">Groceries</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h4>Services</h4>
                    <ul>
                        <li><a href="#">Credit Card</a></li>
                        <li><a href="#">Personal Loan</a></li>
                        <li><a href="#">Digital Gold</a></li>
                        <li><a href="#">Forex Card</a></li>
                        <li><a href="#">Bill Payments</a></li>
                        <li><a href="#">Credit Score</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h4>About Us</h4>
                    <ul>
                        <li><a href="#">Help & Support</a></li>
                        <li><a href="#">Offer T&Cs</a></li>
                        <li><a href="#">Legal</a></li>
                        <li><a href="#">Privacy Policy</a></li>
                        <li><a href="#">Terms & Conditions</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h4>Download Tata Neu</h4>
                    <div class="app-download">
                        <a href="#" class="app-badge">
                            <svg fill="currentColor" viewBox="0 0 24 24" width="20" height="20">
                                <path d="M17.05 20.28c-.98.95-2.05.8-3.08.35-1.09-.46-2.09-.48-3.24 0-1.44.62-2.2.44-3.06-.35C2.79 15.25 3.51 7.59 9.05 7.31c1.35.07 2.29.74 3.08.8 1.18-.24 2.31-.93 3.57-.84 1.51.12 2.65.72 3.4 1.8-3.12 1.87-2.38 5.98.48 7.13-.57 1.5-1.31 2.99-2.54 4.09l.01-.01zM12.03 7.25c-.15-2.23 1.66-4.07 3.74-4.25.29 2.58-2.34 4.5-3.74 4.25z"/>
                            </svg>
                            App Store
                        </a>
                        <a href="#" class="app-badge">
                            <svg fill="currentColor" viewBox="0 0 24 24" width="20" height="20">
                                <path d="M3 20.5v-17c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5v17c0 .83-.67 1.5-1.5 1.5S3 21.33 3 20.5zm4.5-9L14 5l1.5 1.5-5 6.5 5 6.5L14 21l-6.5-6.5z"/>
                            </svg>
                            Play Store
                        </a>
                    </div>
                </div>
            </div>
            <div class="footer-bottom">
                <div class="footer-copyright">
                    Â© 2026 Tata Digital Limited. All Rights Reserved.
                </div>
                <div class="footer-social">
                    <a href="#">
                        <svg fill="currentColor" viewBox="0 0 24 24">
                            <path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"/>
                        </svg>
                    </a>
                    <a href="#">
                        <svg fill="currentColor" viewBox="0 0 24 24">
                            <path d="M24 4.557c-.883.392-1.832.656-2.828.775 1.017-.609 1.798-1.574 2.165-2.724-.951.564-2.005.974-3.127 1.195-.897-.957-2.178-1.555-3.594-1.555-3.179 0-5.515 2.966-4.797 6.045-4.091-.205-7.719-2.165-10.148-5.144-1.29 2.213-.669 5.108 1.523 6.574-.806-.026-1.566-.247-2.229-.616-.054 2.281 1.581 4.415 3.949 4.89-.693.188-1.452.232-2.224.084.626 1.956 2.444 3.379 4.6 3.419-2.07 1.623-4.678 2.348-7.29 2.04 2.179 1.397 4.768 2.212 7.548 2.212 9.142 0 14.307-7.721 13.995-14.646.962-.695 1.797-1.562 2.457-2.549z"/>
                        </svg>
                    </a>
                    <a href="#">
                        <svg fill="currentColor" viewBox="0 0 24 24">
                            <path d="M19.615 3.184c-3.604-.246-11.631-.245-15.23 0-3.897.266-4.356 2.62-4.385 8.816.029 6.185.484 8.549 4.385 8.816 3.6.245 11.626.246 15.23 0 3.897-.266 4.356-2.62 4.385-8.816-.029-6.185-.484-8.549-4.385-8.816zm-10.615 12.816v-8l8 3.993-8 4.007z"/>
                        </svg>
                    </a>
                    <a href="#">
                        <svg fill="currentColor" viewBox="0 0 24 24">
                            <path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/>
                        </svg>
                    </a>
                </div>
            </div>
        </div>
    </footer>

    <!-- Chat window - Modern Purple Theme with all existing functionality -->
    <div id="chatbox" class="chatbox">
        <div class="chatbox-header">
            <div class="chatbox-header-title">
                <svg xmlns="http://www.w3.org/2000/svg" style="width: 2rem; height: 2rem; margin-right: 0.5rem; padding: 0.25rem; background: white; color: var(--primary); border-radius: 50%;" viewBox="0 0 20 20" fill="currentColor">
                    <path fill-rule="evenodd" d="M18 10c0 3.866-3.582 7-8 7a8.74 8.74 0 01-4.246-1.122L2.999 17.68a.5.5 0 00-.5-.502L2.57 14.28A7.96 7.96 0 012 10c0-3.866 3.582-7 8-7s8 3.134 8 7zM7 9H5v2h2V9zm8 0h-2v2h2V9zm-4 0H9v2h2V9z" clip-rule="evenodd" />
                </svg>
                <span>Tata Neu Assistant</span>
            </div>
            <button id="closeChatbox" style="padding: 0.25rem; border-radius: 50%; background: rgba(255,255,255,0.15); border: none; color: white; cursor: pointer; transition: all 0.3s ease;">
                <svg xmlns="http://www.w3.org/2000/svg" style="height: 1.5rem; width: 1.5rem;" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                </svg>
            </button>
        </div>

        <div id="session-id-display" style="font-size: 0.75rem; text-align: center; background: rgba(0,0,0,0.2); padding: 0.5rem; color: rgba(255,255,255,0.7); border-top: 1px solid rgba(255,255,255,0.1); border-bottom: 1px solid rgba(255,255,255,0.1);">
            <span id="session-id-text" style="font-family: monospace; font-weight: bold;">Waiting for session...</span>
        </div>

        <div class="chatbox-body">
            <!-- Video Preview (fixed at top when active) -->
            <div id="video-preview-container" class="video-preview-container">
                <video id="video-preview" class="video-preview" autoplay playsinline muted></video>
                <div class="video-preview-badge">ðŸ“¹ LIVE</div>
                <button id="flipCameraBtn" class="flip-camera-btn" title="Switch Camera">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" width="20" height="20">
                        <path d="M20 5h-3.17L15 3H9L7.17 5H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm-5 11.5V14H9v2.5L5.5 12 9 7.5V10h6V7.5l3.5 4.5-3.5 4.5z"/>
                    </svg>
                </button>
            </div>
            
            <!-- Scrollable messages container -->
            <div class="chat-messages-container" id="chat-messages">
                <div class="chat-message assistant-message">
                    à¤¨à¤®à¤¸à¥à¤¤à¥‡! à¤®à¥ˆà¤‚ à¤¨à¥‡à¤¹à¤¾ à¤¹à¥‚à¤, à¤†à¤ªà¤•à¥€ à¤Ÿà¤¾à¤Ÿà¤¾ à¤¨à¥à¤¯à¥‚ à¤•à¤¸à¥à¤Ÿà¤®à¤° à¤•à¥‡à¤¯à¤° à¤…à¤¸à¤¿à¤¸à¥à¤Ÿà¥‡à¤‚à¤Ÿà¥¤ à¤†à¤œ à¤®à¥ˆà¤‚ à¤†à¤ªà¤•à¥€ à¤•à¥ˆà¤¸à¥‡ à¤®à¤¦à¤¦ à¤•à¤° à¤¸à¤•à¤¤à¥€ à¤¹à¥‚à¤? à¤®à¥ˆà¤‚ à¤‘à¤°à¥à¤¡à¤°, à¤¨à¥à¤¯à¥‚à¤•à¤¾à¤°à¥à¤¡, à¤°à¤¿à¤Ÿà¤°à¥à¤¨, à¤”à¤° à¤¬à¤¹à¥à¤¤ à¤•à¥à¤› à¤®à¥‡à¤‚ à¤®à¤¦à¤¦ à¤•à¤° à¤¸à¤•à¤¤à¥€ à¤¹à¥‚à¤! ðŸ›ï¸âœ¨ðŸ’³
                </div>
            </div>
        </div>

        <div id="audio-indicator" style="padding: 0 1rem 0.5rem; display: flex; justify-content: center; align-items: center; height: 2.5rem; display: none;">
            <div class="audio-wave">
                <span></span>
                <span></span>
                <span></span>
                <span></span>
                <span></span>
            </div>
        </div>

        <div class="chatbox-footer">
            <button id="cameraButton" class="chat-control-btn">
                <svg xmlns="http://www.w3.org/2000/svg" style="height: 1.5rem; width: 1.5rem; color: white;" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                  <path stroke-linecap="round" stroke-linejoin="round" d="M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z" />
                </svg>
            </button>
            <div id="mic-button-container" class="mic-button">
                <svg xmlns="http://www.w3.org/2000/svg" style="height: 2rem; width: 2rem; color: white;" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                  <path stroke-linecap="round" stroke-linejoin="round" d="M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z" />
                </svg>
            </div>
            <button id="endCallButton" class="chat-control-btn end-call">
                <svg xmlns="http://www.w3.org/2000/svg" style="height: 1.5rem; width: 1.5rem; color: white;" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                  <path stroke-linecap="round" stroke-linejoin="round" d="M16 8l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2M3 12l6.414 6.414a2 2 0 002.828 0L19 12M3 12l6.414-6.414a2 2 0 012.828 0L19 12" />
                </svg>
            </button>
        </div>
    </div>

    <button id="openChatButton" style="position: fixed; bottom: 1.5rem; right: 1.5rem; background: linear-gradient(135deg, #7c3aed, #a78bfa); color: white; padding: 1rem; border-radius: 50%; box-shadow: 0 4px 20px rgba(124,58,237,0.4); display: none; border: none; cursor: pointer; transition: all 0.3s ease;" title="Open Chat">
        <svg xmlns="http://www.w3.org/2000/svg" style="height: 2rem; width: 2rem;" viewBox="0 0 20 20" fill="currentColor">
            <path fill-rule="evenodd" d="M18 10c0 3.866-3.582 7-8 7a8.74 8.74 0 01-4.246-1.122L2.999 17.68a.5.5 0 00-.5-.502L2.57 14.28A7.96 7.96 0 012 10c0-3.866 3.582-7 8-7s8 3.134 8 7zM7 9H5v2h2V9zm8 0h-2v2h2V9zm-4 0H9v2h2V9z" clip-rule="evenodd" />
        </svg>
    </button>

    <!-- Audio client script -->
    <script src="audio-client.js"></script>

    <script>
        // Function to open chat
        function openChat() {
            const chatbox = document.getElementById('chatbox');
            const openChatButton = document.getElementById('openChatButton');
            
            if (chatbox) {
                chatbox.style.display = 'flex';
            }
            if (openChatButton) {
                openChatButton.style.display = 'none';
            }
        }

        // Initialize audio client with deployed Tata Neu server URL (configured in audio-client.js)
        const audioClient = new AudioClient();
        let isRecording = false;
        let isCameraActive = false;
        let videoStream = null;
        let videoFrameInterval = null;
        const VIDEO_FRAME_RATE = 1000; // Send 1 frame per second

        // Script to toggle chatbox visibility
        const chatbox = document.getElementById('chatbox');
        const closeChatboxButton = document.getElementById('closeChatbox');
        const openChatButton = document.getElementById('openChatButton');
        const micButton = document.getElementById('mic-button-container');
        const endCallButton = document.getElementById('endCallButton');
        const cameraButton = document.getElementById('cameraButton');
        const chatMessages = document.getElementById('chat-messages');
        const audioIndicator = document.getElementById('audio-indicator');
        const videoPreviewContainer = document.getElementById('video-preview-container');
        const videoPreview = document.getElementById('video-preview');
        const flipCameraBtn = document.getElementById('flipCameraBtn');
        
        // Track current camera facing mode
        let currentFacingMode = 'user'; // 'user' = front, 'environment' = back

        // Camera toggle handler
        cameraButton.addEventListener('click', async () => {
            if (isCameraActive) {
                stopCamera();
            } else {
                await startCamera();
            }
        });
        
        // Flip camera handler
        flipCameraBtn.addEventListener('click', async () => {
            if (isCameraActive) {
                // Toggle facing mode
                currentFacingMode = currentFacingMode === 'user' ? 'environment' : 'user';
                
                // Restart camera with new facing mode
                stopCamera();
                await startCamera();
            }
        });

        // Start camera and video streaming
        async function startCamera() {
            try {
                videoStream = await navigator.mediaDevices.getUserMedia({ 
                    video: { 
                        facingMode: currentFacingMode,
                        width: { ideal: 640 },
                        height: { ideal: 480 }
                    } 
                });
                
                videoPreview.srcObject = videoStream;
                
                // Wait for video to be ready before showing
                await new Promise((resolve) => {
                    videoPreview.onloadedmetadata = () => {
                        videoPreview.play().then(resolve).catch(resolve);
                    };
                    // Fallback if already loaded
                    if (videoPreview.readyState >= 2) {
                        videoPreview.play().then(resolve).catch(resolve);
                    }
                });
                
                videoPreviewContainer.classList.add('active');
                cameraButton.classList.add('camera-active');
                isCameraActive = true;
                
                // Mirror only front camera, not back camera
                if (currentFacingMode === 'user') {
                    videoPreview.style.transform = 'scaleX(-1)';
                } else {
                    videoPreview.style.transform = 'scaleX(1)';
                }
                
                // Start sending video frames
                startVideoFrameCapture();
                
                console.log('Camera started successfully with facing mode:', currentFacingMode);
            } catch (error) {
                console.error('Error starting camera:', error);
                addSystemMessage("à¤•à¥ˆà¤®à¤°à¤¾ à¤à¤•à¥à¤¸à¥‡à¤¸ à¤¨à¤¹à¥€à¤‚ à¤¹à¥‹ à¤ªà¤¾ à¤°à¤¹à¤¾à¥¤ à¤•à¥ƒà¤ªà¤¯à¤¾ à¤…à¤ªà¤¨à¥€ permissions à¤šà¥‡à¤• à¤•à¤°à¥‡à¤‚à¥¤");
            }
        }

        // Stop camera
        function stopCamera() {
            if (videoStream) {
                videoStream.getTracks().forEach(track => track.stop());
                videoStream = null;
            }
            
            videoPreview.srcObject = null;
            videoPreviewContainer.classList.remove('active');
            cameraButton.classList.remove('camera-active');
            isCameraActive = false;
            
            // Stop sending video frames
            stopVideoFrameCapture();
            
            console.log('Camera stopped');
        }

        // Capture and send video frames
        function startVideoFrameCapture() {
            const canvas = document.createElement('canvas');
            const ctx = canvas.getContext('2d');
            
            videoFrameInterval = setInterval(() => {
                // Check if video is ready with valid dimensions
                if (!isCameraActive || !videoPreview.videoWidth || !videoPreview.videoHeight) {
                    console.log('Waiting for video to be ready...');
                    return;
                }
                
                // Set canvas size to match video
                canvas.width = videoPreview.videoWidth;
                canvas.height = videoPreview.videoHeight;
                
                // Draw video frame to canvas
                ctx.drawImage(videoPreview, 0, 0);
                
                // Convert to JPEG and send
                canvas.toBlob((blob) => {
                    if (blob && audioClient.ws && audioClient.ws.readyState === WebSocket.OPEN) {
                        const reader = new FileReader();
                        reader.onload = () => {
                            const base64 = reader.result.split(',')[1];
                            audioClient.sendVideo(base64);
                        };
                        reader.readAsDataURL(blob);
                    }
                }, 'image/jpeg', 0.7);
            }, VIDEO_FRAME_RATE);
        }

        // Stop video frame capture
        function stopVideoFrameCapture() {
            if (videoFrameInterval) {
                clearInterval(videoFrameInterval);
                videoFrameInterval = null;
            }
        }

        if (closeChatboxButton) {
            closeChatboxButton.addEventListener('click', () => {
                if (chatbox) chatbox.style.display = 'none';
                if (openChatButton) openChatButton.style.display = 'flex';

                // Stop recording if active
                if (isRecording) {
                    stopRecording();
                }

                // Stop camera if active
                if (isCameraActive) {
                    stopCamera();
                }

                // Disconnect the audio client
                audioClient.close();

                // Reset session ID display
                const sessionIdText = document.getElementById('session-id-text');
                const sessionIdDisplay = document.getElementById('session-id-display');

                if (sessionIdText && sessionIdDisplay) {
                    sessionIdText.textContent = 'Session disconnected';
                    // Change color back to indicate inactive session
                    sessionIdDisplay.classList.remove('text-yellow-300');
                    sessionIdDisplay.classList.add('text-gray-400');
                }
            });
        }

        if (openChatButton) {
            openChatButton.addEventListener('click', () => {
                if (chatbox) chatbox.style.display = 'flex';
                if (openChatButton) openChatButton.style.display = 'none';

                // Connect to the server
                initializeAudioClient();
            });
        }

        // Microphone button handler
        micButton.addEventListener('click', () => {
            if (isRecording) {
                stopRecording();
            } else {
                startRecording();
            }
        });

        // End call button handler
        endCallButton.addEventListener('click', () => {
            if (isRecording) {
                stopRecording();
            }

            // Add a message
            addMessage("Call ended. How else can I help you today?", "assistant");

            // Reconnect the audio client
            audioClient.close();
            initializeAudioClient();
        });

            // Initialize audio client
        async function initializeAudioClient() {
            try {
                // Reset session ID display while connecting
                const sessionIdText = document.getElementById('session-id-text');
                const sessionIdDisplay = document.getElementById('session-id-display');

                if (sessionIdText && sessionIdDisplay) {
                    sessionIdText.textContent = 'Waiting for session...';
                    // Ensure color is gray for waiting state
                    sessionIdDisplay.classList.remove('text-yellow-300');
                    sessionIdDisplay.classList.add('text-gray-400');
                }

                await audioClient.connect();

                // Variables to track the current transcriptions
                let currentUserTranscription = null;
                let currentAssistantTranscription = null;

                // Set up event handlers
                audioClient.onReady = () => {
                    console.log('Audio client ready');
                };

                audioClient.onSessionIdReceived = (sessionId) => {
                    console.log('Session ID received in callback:', sessionId);
                    const sessionIdText = document.getElementById('session-id-text');
                    const sessionIdDisplay = document.getElementById('session-id-display');

                    if (sessionIdText && sessionIdDisplay) {
                        console.log('Updating session ID text with:', sessionId);
                        // Update the text and change color to indicate active session
                        sessionIdText.textContent = `Session ID: ${sessionId}`;
                        sessionIdDisplay.classList.remove('text-gray-400');
                        sessionIdDisplay.classList.add('text-yellow-300');
                    } else {
                        console.error('Session ID elements not found!');
                    }
                };

                audioClient.onAudioReceived = (audioData) => {
                    // Show audio indicator when receiving audio
                    audioIndicator.classList.remove('hidden');
                };

                // Handle user's speech transcription
                audioClient.onInputTranscription = (text, finished) => {
                    if (!text || !text.trim()) return;
                    
                    if (!currentUserTranscription || !document.body.contains(currentUserTranscription)) {
                        // Create new user transcription element
                        currentUserTranscription = createTranscriptionElement('You', text, 'user', !finished);
                        chatMessages.appendChild(currentUserTranscription);
                    } else {
                        // Update existing transcription
                        updateTranscriptionElement(currentUserTranscription, text, !finished);
                    }
                    
                    if (finished) {
                        // Mark as final and reset for next transcription
                        currentUserTranscription = null;
                    }
                    
                    chatMessages.scrollTop = chatMessages.scrollHeight;
                };

                // Handle assistant's speech transcription
                audioClient.onOutputTranscription = (text, finished) => {
                    if (!text || !text.trim()) return;
                    
                    if (!currentAssistantTranscription || !document.body.contains(currentAssistantTranscription)) {
                        // Create new assistant transcription element
                        currentAssistantTranscription = createTranscriptionElement('Neu Assistant', text, 'assistant', !finished);
                        chatMessages.appendChild(currentAssistantTranscription);
                    } else {
                        // Update existing transcription
                        updateTranscriptionElement(currentAssistantTranscription, text, !finished);
                    }
                    
                    if (finished) {
                        // Mark as final and reset for next transcription
                        currentAssistantTranscription = null;
                    }
                    
                    chatMessages.scrollTop = chatMessages.scrollHeight;
                };

                // Handle tool/agent calls
                audioClient.onToolCall = (name, args) => {
                    const toolElement = createToolCallElement(name, args);
                    chatMessages.appendChild(toolElement);
                    chatMessages.scrollTop = chatMessages.scrollHeight;
                    
                    // Remove after a delay
                    setTimeout(() => {
                        if (toolElement && document.body.contains(toolElement)) {
                            toolElement.style.opacity = '0';
                            setTimeout(() => toolElement.remove(), 300);
                        }
                    }, 3000);
                };

                audioClient.onTextReceived = (text) => {
                    // Legacy text handler - now handled by transcriptions
                    console.log('Legacy text received:', text);
                };

                audioClient.onTurnComplete = () => {
                    // Hide audio indicator when done speaking
                    audioIndicator.classList.add('hidden');

                    // Reset transcription tracking
                    currentAssistantTranscription = null;
                };

                audioClient.onError = (error) => {
                    console.error('Audio client error:', error);
                    addSystemMessage("Sorry, I encountered an error. Please try again.");

                    // Reset transcription tracking
                    currentUserTranscription = null;
                    currentAssistantTranscription = null;
                };

                audioClient.onInterrupted = () => {
                    console.log('Interruption detected, stopping audio playback');
                    audioIndicator.classList.add('hidden');

                    // Stop audio playback immediately
                    audioClient.interrupt();

                    // Reset transcription tracking
                    currentUserTranscription = null;
                    currentAssistantTranscription = null;
                };

                audioClient.onStatusChange = (status) => {
                    console.log('Connection status:', status);
                };
            } catch (error) {
                console.error('Failed to initialize audio client:', error);
                addSystemMessage("Sorry, I'm having trouble connecting. Please try again later.");
            }
        }

        // Create a transcription element
        function createTranscriptionElement(label, text, type, isPartial) {
            const element = document.createElement('div');
            element.className = `transcription-message ${type}-transcription ${isPartial ? 'transcription-partial' : 'transcription-final'}`;
            
            const labelEl = document.createElement('div');
            labelEl.className = 'transcription-label';
            labelEl.textContent = label;
            
            const textEl = document.createElement('div');
            textEl.className = 'transcription-text';
            textEl.textContent = text;
            
            element.appendChild(labelEl);
            element.appendChild(textEl);
            
            return element;
        }

        // Update an existing transcription element
        function updateTranscriptionElement(element, text, isPartial) {
            const textEl = element.querySelector('.transcription-text');
            if (textEl) {
                textEl.textContent = text;
            }
            
            if (!isPartial) {
                element.classList.remove('transcription-partial');
                element.classList.add('transcription-final');
            }
        }

        // Create a tool call indicator element
        function createToolCallElement(name, args) {
            const element = document.createElement('div');
            element.className = 'tool-call-indicator';
            
            // Loading spinner SVG
            element.innerHTML = `
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M12 2v4m0 12v4M4.93 4.93l2.83 2.83m8.48 8.48l2.83 2.83M2 12h4m12 0h4M4.93 19.07l2.83-2.83m8.48-8.48l2.83-2.83"/>
                </svg>
                <span>Using ${formatToolName(name)}...</span>
            `;
            
            return element;
        }

        // Format tool name for display
        function formatToolName(name) {
            // Convert snake_case or camelCase to readable format
            return name
                .replace(/_/g, ' ')
                .replace(/([A-Z])/g, ' $1')
                .toLowerCase()
                .replace(/^\w/, c => c.toUpperCase());
        }

        // Add a system message
        function addSystemMessage(text) {
            const messageElement = document.createElement('div');
            messageElement.className = 'transcription-message assistant-transcription';
            
            const labelEl = document.createElement('div');
            labelEl.className = 'transcription-label';
            labelEl.textContent = 'System';
            
            const textEl = document.createElement('div');
            textEl.className = 'transcription-text';
            textEl.textContent = text;
            
            messageElement.appendChild(labelEl);
            messageElement.appendChild(textEl);
            chatMessages.appendChild(messageElement);
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }

        // Start recording
        async function startRecording() {
            try {
                const success = await audioClient.startRecording();
                if (success) {
                    isRecording = true;
                    micButton.classList.add('mic-active');
                    // Transcriptions will be handled by onInputTranscription callback
                }
            } catch (error) {
                console.error('Error starting recording:', error);
            }
        }

        // Stop recording
        function stopRecording() {
            audioClient.stopRecording();
            isRecording = false;
            micButton.classList.remove('mic-active');
        }

        // Add a message to the chat (legacy - kept for compatibility)
        function addMessage(text, sender) {
            const messageElement = document.createElement('div');
            messageElement.className = `chat-message ${sender}-message`;
            messageElement.textContent = text;

            chatMessages.appendChild(messageElement);

            // Scroll to the bottom
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }

        // Initialize on page load
        window.addEventListener('load', () => {
            initializeAudioClient();
        });
    </script>
</body>
</html>
